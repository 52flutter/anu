<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <script type='text/javascript' src="./dist/React.js"></script>
  <!-- <script type='text/javascript' src="./lib/ReactTestUtils.js"></script>
  <script type='text/javascript' src="./dist/ReactDOMServer.js"></script>-->

  <script type='text/javascript' src="./test/react.development.js"></script>
  <script type='text/javascript' src="./test/react-dom.development.js"></script>

  <script type='text/javascript' src="./lib/babel.js"></script>


</head>

<body>

  <div id='root' class="root">

  </div>
  <script>
<<<<<<< HEAD
    function Node() {
      this.children = {}
    }
    class Trie {
      constructor() {
        this.root = new Node()
      }
      insert(word) {
        var node = this.root;
        for (let c of word) {
          if (!node.children[c]) {
            node.children[c] = new Node
          }

          node = node.children[c]
          node.value = c;
        }
        node.word = word;
      }
      search(word) {
        var hash = {}
        innerSearch(this.root, word, 0, true, hash)
        return hash;
      }

    }
    function innerSearch(node, word, index, value, hash) {
      console.log(node.value, node.word, value)
      if (node.word) {
        if (index >= word.length) {
          hash[node.word] = value;
        } else {
          hash[node.word] = false
        }
      }

      var a = word[index]
      for (let c in node.children) {
        if (c === a) { //都是大写或小写,并且字母一样
          innerSearch(node.children[c], word, index + 1, value, hash)
        } else {
          var code = c.charCodeAt(0)
          if (code >= 65 && code <= 90) {
            innerSearch(node.children[c], word, index, false, hash)
          } else {
            innerSearch(node.children[c], word, index, value, hash)
          }

        }
      }
      return true
    }

    function camelMatch(queries, pattern) {
      let trie = new Trie
      for (let word of queries) {
        trie.insert(word)
      }
      let hash = trie.search(pattern)
      let ret = []
      for (let word of queries) {
        ret.push(hash[word])
      }

      console.log(ret)
      return ret;
    }
    //   camelMatch(["FooBar", "FooBarTest", "FootBall", "FrameBuffer", "ForceFeedBack"], 'FB')
    camelMatch(["FooBar", "FooBarTest", "FootBall", "FrameBuffer", "ForceFeedBack"], 'FoBa')
  //  camelMatch(["FooBar", "FooBarTest", "FootBall", "FrameBuffer", "ForceFeedBack"], 'FBT')



//["hello"], ["hhllo"], ["hell"], ["leetcoded"]]
    //https://mp.weixin.qq.com/s/YhY9caPRwCh-7dTyGWO8Kg
  </script>
</body>

=======
  
  var findSubstring = function(s, words) {
    if(s.length == 0 || words.length == 0){
        return []
    }
    var m = words[0].length;
    var n = s.length, left = 0, right = 0;
    var hash = {}, index = 0, indexes = {}, res = [];
    for(var word of words){
        hash[word] = 1   
    }
    var hit = false, counts = 0
    while(left < n){
        
        while(right < n && (right - left+ 1 <= m || left > right)){
            if(right - left+ 1 == m ){
                let str = s.substring(left, right+1);
                if(hash[str]){
                  if(hit){
                    if(nextLeft === left){
                      hash[str] = 1
                      counts++
                      if(counts === words.length){
                        counts = 0;
                    for(let h in hash){
                       hash[h] = 1;
                    }
                   // res.pop()
                    hit = false
                      }
                    } 
                    counts = 0;
                    for(let h in hash){
                       hash[h] = 1;
                    }
                    res.pop()
                    hit = false
                    continue
                  }
                
                  res[index] = left
                  hash[str] = 0
                  hit = true;
                  counts++
                  nextLeft = right+1
                }
            }
            right++
        }
        left++
    }
    return res
    
};
  </script>
</body>

>>>>>>> 14905d8e7383accff71986a0ac48c1720914445f
</html>